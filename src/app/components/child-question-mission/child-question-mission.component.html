@if (!started && !loading){
  <div class="container my-5" >
    <h2 class="mb-4">ğŸ“ GÃ¶rev DetaylarÄ±</h2>
    @if (missionDetails){
      <div class="card p-4 shadow" >
        <p><strong>GÃ¶rev AdÄ±:</strong> {{ missionDetails.schoolLessonName }} Test Ã‡Ã¶zÃ¼mÃ¼</p>
        <p><strong>AÃ§Ä±klama:</strong> {{ missionDetails.description }}</p>
        <p><strong>Hedef Soru SayÄ±sÄ±:</strong> {{ missionDetails.numberOfQuestion }}</p>
        <!-- Daha fazla bilgi varsa buraya ekle -->
        <button class="btn btn-primary mt-3" (click)="startMission()">BaÅŸla</button>
      </div>
    }

  </div>
}


<!-- YÃ¼kleniyor ekranÄ± -->
@if (loading){
  <div class="text-center mt-5" >
    <div class="spinner-border text-primary" role="status"></div>
    <p class="mt-3">Sorular yÃ¼kleniyor...</p>
  </div>
}


<!-- Test ekranÄ± -->
@if (started && !loading){
  <div>
    @if (currentQuestionIndex<questions?.length){
      <div>
        <div class="container my-5">
          <h4 class="mb-4">Soru {{ currentQuestionIndex + 1 }} / {{ questions.length }}</h4>
          <div class="card shadow p-4">
            <p class="fs-5">{{ questions[currentQuestionIndex].questionText }}</p>
            <div class="btn-group-vertical w-100">
              @for (opt of questions[currentQuestionIndex].options;track trackFn){
                <button
                        (click)="answer(opt)"
                        [class.btn-success]="selectedOption === opt && opt === questions[currentQuestionIndex].correctAnswer"
                        [class.btn-danger]="selectedOption === opt && opt !== questions[currentQuestionIndex].correctAnswer"
                        class="btn btn-outline-primary mb-2">
                  {{ opt }}
                </button>
              }

            </div>
          </div>
        </div>
      </div>
    }

    @if (currentQuestionIndex >= questions?.length) {
      <div class="text-center mt-5">
        <h3>âœ”ï¸ Test TamamlandÄ±</h3>
        <p>DoÄŸru SayÄ±sÄ±: {{ score }} / {{ questions.length }}</p>
      </div>
    }

  </div>
}

