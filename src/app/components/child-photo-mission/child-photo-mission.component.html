<div class="container my-5">

  <!-- Geri TuÅŸu -->
  <button class="btn btn-outline-secondary position-absolute top-0 start-0 mt-2 ms-2" (click)="goBack()">
    <i class="fa fa-arrow-left"></i> Geri
  </button>

  <h2 class="text-center mb-4">ğŸ“¸ FotoÄŸraflÄ± DoÄŸrulama</h2>

  @if (mission){
    <div class="card mb-4 shadow-sm p-3">
      <h5 class="mb-2 text-primary">ğŸ“‹ GÃ¶rev Bilgileri</h5>
      <p><strong>BaÅŸlÄ±k:</strong> {{mission.missionTitle}}</p>
      <p><strong>AÃ§Ä±klama:</strong> {{mission.missionDescription}}</p>
      <p><strong>Toplam KazanacaÄŸÄ±n SÃ¼re:</strong> {{mission.sessionDuration}} dk</p>
    </div>
  }


  <!-- FotoÄŸraf yÃ¼kleme -->
  <div class="card shadow p-4 mb-4">
    <h5>FotoÄŸraf YÃ¼kle veya Kameradan Ã‡ek</h5>

    <!-- Galeriden seÃ§me -->
    <input type="file" accept="image/*" class="form-control mt-2" (change)="onFileSelected($event)" />

    <!-- KamerayÄ± aÃ§ -->
    <button class="btn btn-outline-primary mt-3" (click)="openCamera()">ğŸ“· KamerayÄ± AÃ§</button>

    <!-- CanlÄ± Kamera -->
    @if (cameraOpen) {
      <div  class="mt-3 text-center">
        <video #video autoplay class="border rounded" width="100%"></video>
        <br />
        <button class="btn btn-success mt-3" (click)="capturePhoto()">ğŸ“¸ FotoÄŸraf Ã‡ek</button>
        <button class="btn btn-danger mt-3" (click)="closeCamera()">âŒ KamerayÄ± Kapat</button>
      </div>
    }


    <!-- Ã‡ekilmiÅŸ veya seÃ§ilmiÅŸ fotoÄŸraf -->
    @if (previewUrl) {
      <div class="mt-4 text-center">
        <img [src]="previewUrl" class="img-fluid rounded shadow-sm" alt="SeÃ§ilen FotoÄŸraf" style="max-height: 300px;" />
      </div>
    }

  </div>

  <!-- AÃ§Ä±klama alanÄ± -->
  <div class="card shadow p-4 mb-4">
    <h5>AÃ§Ä±klama</h5>
    <textarea [(ngModel)]="description" rows="4" class="form-control" placeholder="AÃ§Ä±klama yaz..."></textarea>
  </div>

  <!-- GÃ¶nder -->
  <div class="text-center">
    <button class="btn btn-success px-5 py-2" (click)="submit()">âœ”ï¸ GÃ¶nder</button>
  </div>
</div>
